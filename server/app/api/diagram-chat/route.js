"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/diagram-chat/route";
exports.ids = ["app/api/diagram-chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdiagram-chat%2Froute&page=%2Fapi%2Fdiagram-chat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdiagram-chat%2Froute.ts&appDir=C%3A%5CUsers%5Csarve%5Cfullstack1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csarve%5Cfullstack1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdiagram-chat%2Froute&page=%2Fapi%2Fdiagram-chat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdiagram-chat%2Froute.ts&appDir=C%3A%5CUsers%5Csarve%5Cfullstack1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csarve%5Cfullstack1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_sarve_fullstack1_app_api_diagram_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/diagram-chat/route.ts */ \"(rsc)/./app/api/diagram-chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/diagram-chat/route\",\n        pathname: \"/api/diagram-chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/diagram-chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\sarve\\\\fullstack1\\\\app\\\\api\\\\diagram-chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_sarve_fullstack1_app_api_diagram_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/diagram-chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkaWFncmFtLWNoYXQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRpYWdyYW0tY2hhdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRpYWdyYW0tY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNzYXJ2ZSU1Q2Z1bGxzdGFjazElNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q3NhcnZlJTVDZnVsbHN0YWNrMSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9maWd1cmUtYWkvPzhhMjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcc2FydmVcXFxcZnVsbHN0YWNrMVxcXFxhcHBcXFxcYXBpXFxcXGRpYWdyYW0tY2hhdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGlhZ3JhbS1jaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGlhZ3JhbS1jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kaWFncmFtLWNoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxzYXJ2ZVxcXFxmdWxsc3RhY2sxXFxcXGFwcFxcXFxhcGlcXFxcZGlhZ3JhbS1jaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kaWFncmFtLWNoYXQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdiagram-chat%2Froute&page=%2Fapi%2Fdiagram-chat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdiagram-chat%2Froute.ts&appDir=C%3A%5CUsers%5Csarve%5Cfullstack1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csarve%5Cfullstack1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/diagram-chat/route.ts":
/*!***************************************!*\
  !*** ./app/api/diagram-chat/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_textUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/textUtils */ \"(rsc)/./lib/textUtils.ts\");\n\n\nasync function searchWeb(query) {\n    try {\n        const url = `https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&no_redirect=1&no_html=1`;\n        const res = await fetch(url, {\n            headers: {\n                \"User-Agent\": \"AUTOFIGURE-AI/1.0\"\n            },\n            next: {\n                revalidate: 60\n            }\n        });\n        if (!res.ok) return null;\n        const data = await res.json();\n        const abstract = data.Abstract;\n        const related = data.RelatedTopics;\n        if (abstract && abstract.trim().length > 0) {\n            return abstract.trim();\n        }\n        if (related && related.length > 0) {\n            const first = related.find((r)=>typeof r?.Text === \"string\");\n            if (first?.Text) return first.Text;\n        }\n    } catch (error) {\n        console.error(\"Web search failed:\", error);\n    }\n    return null;\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { message, diagram, diagramType } = body;\n        if (!message) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Message is required\"\n            }, {\n                status: 400\n            });\n        }\n        const lowerMessage = message.toLowerCase();\n        let reply = \"\";\n        let updatedDiagram = undefined;\n        // If there's no diagram, try to answer from web search\n        if (!diagram) {\n            const webAnswer = await searchWeb(message);\n            reply = webAnswer || \"I couldn't find an online answer right now. Please check your connection or provide a diagram so I can assist with it.\";\n            const response = {\n                reply\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n        }\n        // Mock AI responses\n        if (lowerMessage.includes(\"explain\") || lowerMessage.includes(\"what\")) {\n            reply = `This ${diagramType} diagram contains ${diagram.nodes.length} nodes and ${diagram.edges.length} connections. `;\n            reply += `The main components are: ${diagram.nodes.slice(0, 3).map((n)=>n.label).join(\", \")}.`;\n        } else if (lowerMessage.includes(\"add\") || lowerMessage.includes(\"create\")) {\n            // Extract what to add\n            const addMatch = message.match(/add\\s+(.+)/i);\n            const newLabel = addMatch ? (0,_lib_textUtils__WEBPACK_IMPORTED_MODULE_1__.extractMinimalLabel)(addMatch[1], 4) : \"New Node\";\n            const newNode = {\n                id: `node-${Date.now()}`,\n                label: newLabel,\n                position: {\n                    x: Math.random() * 400 + 100,\n                    y: Math.random() * 400 + 100\n                },\n                type: \"process\",\n                shape: \"rectangle\",\n                width: 150,\n                height: 80\n            };\n            updatedDiagram = {\n                ...diagram,\n                nodes: [\n                    ...diagram.nodes,\n                    newNode\n                ]\n            };\n            reply = `Added new node: ${newLabel}`;\n        } else if (lowerMessage.includes(\"simplify\") || lowerMessage.includes(\"shorter\")) {\n            // Simplify labels\n            updatedDiagram = {\n                ...diagram,\n                nodes: diagram.nodes.map((node)=>({\n                        ...node,\n                        label: (0,_lib_textUtils__WEBPACK_IMPORTED_MODULE_1__.extractMinimalLabel)(node.label, 3)\n                    }))\n            };\n            reply = \"Simplified all node labels.\";\n        } else if (lowerMessage.includes(\"color\") || lowerMessage.includes(\"theme\")) {\n            reply = \"You can change the theme using the theme selector in the toolbar.\";\n        } else {\n            reply = `I understand you're asking about: \"${message}\". `;\n            reply += `This is a ${diagramType} diagram with ${diagram.nodes.length} nodes. `;\n            reply += `You can ask me to explain the diagram, add nodes, or simplify labels.`;\n        }\n        const response = {\n            reply,\n            updatedDiagram\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.error(\"Error in diagram chat:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to process chat message\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2ZpZ3VyZS1haS8uL2FwcC9hcGkvZGlhZ3JhbS1jaGF0L3JvdXRlLnRzP2YwMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBEaWFncmFtQ2hhdFJlcXVlc3QsIERpYWdyYW1DaGF0UmVzcG9uc2UsIERpYWdyYW1Ob2RlIH0gZnJvbSBcIkAvbGliL3R5cGVzXCI7XHJcbmltcG9ydCB7IGV4dHJhY3RNaW5pbWFsTGFiZWwgfSBmcm9tIFwiQC9saWIvdGV4dFV0aWxzXCI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hXZWIocXVlcnk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuZHVja2R1Y2tnby5jb20vP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZmb3JtYXQ9anNvbiZub19yZWRpcmVjdD0xJm5vX2h0bWw9MWA7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiVXNlci1BZ2VudFwiOiBcIkFVVE9GSUdVUkUtQUkvMS4wXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIG5leHQ6IHsgcmV2YWxpZGF0ZTogNjAgfSxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFyZXMub2spIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICBjb25zdCBhYnN0cmFjdDogc3RyaW5nIHwgdW5kZWZpbmVkID0gZGF0YS5BYnN0cmFjdDtcclxuICAgIGNvbnN0IHJlbGF0ZWQ6IEFycmF5PHsgVGV4dD86IHN0cmluZyB9PiB8IHVuZGVmaW5lZCA9IGRhdGEuUmVsYXRlZFRvcGljcztcclxuXHJcbiAgICBpZiAoYWJzdHJhY3QgJiYgYWJzdHJhY3QudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIGFic3RyYWN0LnRyaW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVsYXRlZCAmJiByZWxhdGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgZmlyc3QgPSByZWxhdGVkLmZpbmQoKHIpID0+IHR5cGVvZiByPy5UZXh0ID09PSBcInN0cmluZ1wiKTtcclxuICAgICAgaWYgKGZpcnN0Py5UZXh0KSByZXR1cm4gZmlyc3QuVGV4dDtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIldlYiBzZWFyY2ggZmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBib2R5OiBEaWFncmFtQ2hhdFJlcXVlc3QgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgbWVzc2FnZSwgZGlhZ3JhbSwgZGlhZ3JhbVR5cGUgfSA9IGJvZHk7XHJcblxyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk1lc3NhZ2UgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxvd2VyTWVzc2FnZSA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcclxuICAgIGxldCByZXBseSA9IFwiXCI7XHJcbiAgICBsZXQgdXBkYXRlZERpYWdyYW06IHR5cGVvZiBkaWFncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIC8vIElmIHRoZXJlJ3Mgbm8gZGlhZ3JhbSwgdHJ5IHRvIGFuc3dlciBmcm9tIHdlYiBzZWFyY2hcclxuICAgIGlmICghZGlhZ3JhbSkge1xyXG4gICAgICBjb25zdCB3ZWJBbnN3ZXIgPSBhd2FpdCBzZWFyY2hXZWIobWVzc2FnZSk7XHJcbiAgICAgIHJlcGx5ID1cclxuICAgICAgICB3ZWJBbnN3ZXIgfHxcclxuICAgICAgICBcIkkgY291bGRuJ3QgZmluZCBhbiBvbmxpbmUgYW5zd2VyIHJpZ2h0IG5vdy4gUGxlYXNlIGNoZWNrIHlvdXIgY29ubmVjdGlvbiBvciBwcm92aWRlIGEgZGlhZ3JhbSBzbyBJIGNhbiBhc3Npc3Qgd2l0aCBpdC5cIjtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBEaWFncmFtQ2hhdFJlc3BvbnNlID0geyByZXBseSB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vY2sgQUkgcmVzcG9uc2VzXHJcbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwiZXhwbGFpblwiKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoXCJ3aGF0XCIpKSB7XHJcbiAgICAgIHJlcGx5ID0gYFRoaXMgJHtkaWFncmFtVHlwZX0gZGlhZ3JhbSBjb250YWlucyAke2RpYWdyYW0ubm9kZXMubGVuZ3RofSBub2RlcyBhbmQgJHtkaWFncmFtLmVkZ2VzLmxlbmd0aH0gY29ubmVjdGlvbnMuIGA7XHJcbiAgICAgIHJlcGx5ICs9IGBUaGUgbWFpbiBjb21wb25lbnRzIGFyZTogJHtkaWFncmFtLm5vZGVzLnNsaWNlKDAsIDMpLm1hcChuID0+IG4ubGFiZWwpLmpvaW4oXCIsIFwiKX0uYDtcclxuICAgIH0gZWxzZSBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwiYWRkXCIpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcyhcImNyZWF0ZVwiKSkge1xyXG4gICAgICAvLyBFeHRyYWN0IHdoYXQgdG8gYWRkXHJcbiAgICAgIGNvbnN0IGFkZE1hdGNoID0gbWVzc2FnZS5tYXRjaCgvYWRkXFxzKyguKykvaSk7XHJcbiAgICAgIGNvbnN0IG5ld0xhYmVsID0gYWRkTWF0Y2ggPyBleHRyYWN0TWluaW1hbExhYmVsKGFkZE1hdGNoWzFdLCA0KSA6IFwiTmV3IE5vZGVcIjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5ld05vZGU6IERpYWdyYW1Ob2RlID0ge1xyXG4gICAgICAgIGlkOiBgbm9kZS0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICBsYWJlbDogbmV3TGFiZWwsXHJcbiAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiA0MDAgKyAxMDAsXHJcbiAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogNDAwICsgMTAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZTogXCJwcm9jZXNzXCIsXHJcbiAgICAgICAgc2hhcGU6IFwicmVjdGFuZ2xlXCIsXHJcbiAgICAgICAgd2lkdGg6IDE1MCxcclxuICAgICAgICBoZWlnaHQ6IDgwLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdXBkYXRlZERpYWdyYW0gPSB7XHJcbiAgICAgICAgLi4uZGlhZ3JhbSxcclxuICAgICAgICBub2RlczogWy4uLmRpYWdyYW0ubm9kZXMsIG5ld05vZGVdLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVwbHkgPSBgQWRkZWQgbmV3IG5vZGU6ICR7bmV3TGFiZWx9YDtcclxuICAgIH0gZWxzZSBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwic2ltcGxpZnlcIikgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwic2hvcnRlclwiKSkge1xyXG4gICAgICAvLyBTaW1wbGlmeSBsYWJlbHNcclxuICAgICAgdXBkYXRlZERpYWdyYW0gPSB7XHJcbiAgICAgICAgLi4uZGlhZ3JhbSxcclxuICAgICAgICBub2RlczogZGlhZ3JhbS5ub2Rlcy5tYXAobm9kZSA9PiAoe1xyXG4gICAgICAgICAgLi4ubm9kZSxcclxuICAgICAgICAgIGxhYmVsOiBleHRyYWN0TWluaW1hbExhYmVsKG5vZGUubGFiZWwsIDMpLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcGx5ID0gXCJTaW1wbGlmaWVkIGFsbCBub2RlIGxhYmVscy5cIjtcclxuICAgIH0gZWxzZSBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwiY29sb3JcIikgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKFwidGhlbWVcIikpIHtcclxuICAgICAgcmVwbHkgPSBcIllvdSBjYW4gY2hhbmdlIHRoZSB0aGVtZSB1c2luZyB0aGUgdGhlbWUgc2VsZWN0b3IgaW4gdGhlIHRvb2xiYXIuXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXBseSA9IGBJIHVuZGVyc3RhbmQgeW91J3JlIGFza2luZyBhYm91dDogXCIke21lc3NhZ2V9XCIuIGA7XHJcbiAgICAgIHJlcGx5ICs9IGBUaGlzIGlzIGEgJHtkaWFncmFtVHlwZX0gZGlhZ3JhbSB3aXRoICR7ZGlhZ3JhbS5ub2Rlcy5sZW5ndGh9IG5vZGVzLiBgO1xyXG4gICAgICByZXBseSArPSBgWW91IGNhbiBhc2sgbWUgdG8gZXhwbGFpbiB0aGUgZGlhZ3JhbSwgYWRkIG5vZGVzLCBvciBzaW1wbGlmeSBsYWJlbHMuYDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogRGlhZ3JhbUNoYXRSZXNwb25zZSA9IHtcclxuICAgICAgcmVwbHksXHJcbiAgICAgIHVwZGF0ZWREaWFncmFtLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZGlhZ3JhbSBjaGF0OlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIHByb2Nlc3MgY2hhdCBtZXNzYWdlXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImV4dHJhY3RNaW5pbWFsTGFiZWwiLCJzZWFyY2hXZWIiLCJxdWVyeSIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm5leHQiLCJyZXZhbGlkYXRlIiwib2siLCJkYXRhIiwianNvbiIsImFic3RyYWN0IiwiQWJzdHJhY3QiLCJyZWxhdGVkIiwiUmVsYXRlZFRvcGljcyIsInRyaW0iLCJsZW5ndGgiLCJmaXJzdCIsImZpbmQiLCJyIiwiVGV4dCIsImVycm9yIiwiY29uc29sZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsIm1lc3NhZ2UiLCJkaWFncmFtIiwiZGlhZ3JhbVR5cGUiLCJzdGF0dXMiLCJsb3dlck1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsInJlcGx5IiwidXBkYXRlZERpYWdyYW0iLCJ1bmRlZmluZWQiLCJ3ZWJBbnN3ZXIiLCJyZXNwb25zZSIsImluY2x1ZGVzIiwibm9kZXMiLCJlZGdlcyIsInNsaWNlIiwibWFwIiwibiIsImxhYmVsIiwiam9pbiIsImFkZE1hdGNoIiwibWF0Y2giLCJuZXdMYWJlbCIsIm5ld05vZGUiLCJpZCIsIkRhdGUiLCJub3ciLCJwb3NpdGlvbiIsIngiLCJNYXRoIiwicmFuZG9tIiwieSIsInR5cGUiLCJzaGFwZSIsIndpZHRoIiwiaGVpZ2h0Iiwibm9kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/diagram-chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/textUtils.ts":
/*!**************************!*\
  !*** ./lib/textUtils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractListAfterKeyword: () => (/* binding */ extractListAfterKeyword),\n/* harmony export */   extractMainConcept: () => (/* binding */ extractMainConcept),\n/* harmony export */   extractMinimalLabel: () => (/* binding */ extractMinimalLabel),\n/* harmony export */   hasDecisionKeywords: () => (/* binding */ hasDecisionKeywords),\n/* harmony export */   splitIntoSentences: () => (/* binding */ splitIntoSentences)\n/* harmony export */ });\n/**\r\n * Utility functions for parsing and extracting information from text\r\n */ function splitIntoSentences(text) {\n    const cleaned = text.trim().replace(/\\s+/g, \" \");\n    let sentences = cleaned.split(/[.!?]\\s+/);\n    if (sentences.length === 1) {\n        sentences = cleaned.split(/,\\s+/);\n    }\n    if (sentences.length === 1) {\n        sentences = cleaned.split(/\\n+/);\n    }\n    return sentences.map((s)=>s.trim()).filter((s)=>s.length > 0);\n}\nfunction extractListAfterKeyword(text) {\n    const keywords = [\n        \"layers:\",\n        \"types:\",\n        \"components:\",\n        \"includes:\",\n        \"contains:\",\n        \"entities:\",\n        \"attributes:\",\n        \"relationships:\",\n        \"classes:\",\n        \"methods:\",\n        \"use cases:\",\n        \"scenarios:\",\n        \"devices:\",\n        \"processes:\",\n        \"steps:\",\n        \"items:\",\n        \"elements:\",\n        \"parts:\",\n        \"features:\",\n        \"functions:\",\n        \"nodes:\",\n        \"servers:\",\n        \"hosts:\",\n        \"routers:\",\n        \"switches:\"\n    ];\n    const lowerText = text.toLowerCase();\n    for (const keyword of keywords){\n        const index = lowerText.indexOf(keyword);\n        if (index !== -1) {\n            const afterKeyword = text.substring(index + keyword.length).trim();\n            let items = afterKeyword.split(/[,;]/).map((item)=>item.trim());\n            if (items.length === 1 && /^\\d+[\\.\\)]\\s/.test(items[0])) {\n                items = afterKeyword.split(/\\d+[\\.\\)]\\s+/).filter((item)=>item.trim().length > 0);\n            }\n            items = items.map((item)=>item.replace(/^\\d+[\\.\\)]\\s*/, \"\").trim()).filter((item)=>item.length > 0 && item.length < 100).slice(0, 20);\n            if (items.length > 0) {\n                return {\n                    keyword: keyword.replace(\":\", \"\"),\n                    items\n                };\n            }\n        }\n    }\n    const hasPattern = /(\\w+)\\s+has\\s+([^\\.]+)/i;\n    const hasMatch = text.match(hasPattern);\n    if (hasMatch && hasMatch[2]) {\n        const items = hasMatch[2].split(/[,;]/).map((item)=>item.trim()).filter((item)=>item.length > 0);\n        if (items.length > 0) {\n            return {\n                keyword: \"has\",\n                items\n            };\n        }\n    }\n    const consistsPattern = /(\\w+)\\s+consists\\s+of\\s+([^\\.]+)/i;\n    const consistsMatch = text.match(consistsPattern);\n    if (consistsMatch && consistsMatch[2]) {\n        const items = consistsMatch[2].split(/[,;]/).map((item)=>item.trim()).filter((item)=>item.length > 0);\n        if (items.length > 0) {\n            return {\n                keyword: \"consists of\",\n                items\n            };\n        }\n    }\n    return null;\n}\nfunction extractMainConcept(text) {\n    const firstSentence = splitIntoSentences(text)[0] || text;\n    const colonIndex = firstSentence.indexOf(\":\");\n    if (colonIndex !== -1) {\n        return firstSentence.substring(0, colonIndex).trim();\n    }\n    const words = firstSentence.split(/\\s+/);\n    return words.slice(0, 5).join(\" \");\n}\nfunction extractMinimalLabel(text, maxWords = 4) {\n    const fillerWords = new Set([\n        \"the\",\n        \"a\",\n        \"an\",\n        \"is\",\n        \"are\",\n        \"was\",\n        \"were\",\n        \"be\",\n        \"been\",\n        \"being\",\n        \"have\",\n        \"has\",\n        \"had\",\n        \"do\",\n        \"does\",\n        \"did\",\n        \"will\",\n        \"would\",\n        \"should\",\n        \"could\",\n        \"may\",\n        \"might\",\n        \"must\",\n        \"can\",\n        \"this\",\n        \"that\",\n        \"these\",\n        \"those\",\n        \"it\",\n        \"its\",\n        \"they\",\n        \"them\",\n        \"their\",\n        \"there\",\n        \"here\",\n        \"where\",\n        \"when\",\n        \"what\",\n        \"which\",\n        \"who\",\n        \"how\",\n        \"why\",\n        \"to\",\n        \"of\",\n        \"in\",\n        \"on\",\n        \"at\",\n        \"by\",\n        \"for\",\n        \"with\",\n        \"from\",\n        \"as\",\n        \"and\",\n        \"or\",\n        \"but\",\n        \"if\",\n        \"then\",\n        \"so\"\n    ]);\n    const words = text.toLowerCase().replace(/[^\\w\\s]/g, \" \").split(/\\s+/).filter((word)=>word.length > 0 && !fillerWords.has(word));\n    const importantWords = words.filter((word, index)=>{\n        const originalWords = text.split(/\\s+/);\n        const originalWord = originalWords[index] || \"\";\n        return originalWord[0] === originalWord[0]?.toUpperCase() || index < 3;\n    }).slice(0, maxWords);\n    const result = importantWords.length > 0 ? importantWords : words.slice(0, maxWords);\n    return result.map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(\" \") || text.substring(0, 30);\n}\nfunction hasDecisionKeywords(text) {\n    const decisionKeywords = [\n        \"if\",\n        \"else\",\n        \"condition\",\n        \"decision\",\n        \"check\",\n        \"verify\",\n        \"whether\"\n    ];\n    const lowerText = text.toLowerCase();\n    return decisionKeywords.some((keyword)=>lowerText.includes(keyword));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQzZCLFlBQVlHLEdBQUcsQ0FBQ0Q7SUFFeEQsTUFBTUUsaUJBQWlCUixNQUNwQnRCLE1BQU0sQ0FBQyxDQUFDNEIsTUFBTXRCO1FBQ2IsTUFBTXlCLGdCQUFnQnhDLEtBQUtLLEtBQUssQ0FBQztRQUNqQyxNQUFNb0MsZUFBZUQsYUFBYSxDQUFDekIsTUFBTSxJQUFJO1FBQzdDLE9BQU8wQixZQUFZLENBQUMsRUFBRSxLQUFLQSxZQUFZLENBQUMsRUFBRSxFQUFFQyxpQkFBaUIzQixRQUFRO0lBQ3ZFLEdBQ0NPLEtBQUssQ0FBQyxHQUFHWTtJQUVaLE1BQU1TLFNBQVNKLGVBQWVqQyxNQUFNLEdBQUcsSUFDbkNpQyxpQkFDQVIsTUFBTVQsS0FBSyxDQUFDLEdBQUdZO0lBRW5CLE9BQU9TLE9BQ0pwQyxHQUFHLENBQUMsQ0FBQzhCLE9BQVNBLEtBQUtPLE1BQU0sQ0FBQyxHQUFHRixXQUFXLEtBQUtMLEtBQUtmLEtBQUssQ0FBQyxJQUN4RFUsSUFBSSxDQUFDLFFBQVFoQyxLQUFLa0IsU0FBUyxDQUFDLEdBQUc7QUFDcEM7QUFFTyxTQUFTMkIsb0JBQW9CN0MsSUFBWTtJQUM5QyxNQUFNOEMsbUJBQW1CO1FBQUM7UUFBTTtRQUFRO1FBQWE7UUFBWTtRQUFTO1FBQVU7S0FBVTtJQUM5RixNQUFNbEMsWUFBWVosS0FBS2EsV0FBVztJQUNsQyxPQUFPaUMsaUJBQWlCQyxJQUFJLENBQUMsQ0FBQ2pDLFVBQVlGLFVBQVVvQyxRQUFRLENBQUNsQztBQUMvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9maWd1cmUtYWkvLi9saWIvdGV4dFV0aWxzLnRzP2E3MGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zIGZvciBwYXJzaW5nIGFuZCBleHRyYWN0aW5nIGluZm9ybWF0aW9uIGZyb20gdGV4dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEludG9TZW50ZW5jZXModGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gIGNvbnN0IGNsZWFuZWQgPSB0ZXh0LnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcclxuICBsZXQgc2VudGVuY2VzID0gY2xlYW5lZC5zcGxpdCgvWy4hP11cXHMrLyk7XHJcbiAgXHJcbiAgaWYgKHNlbnRlbmNlcy5sZW5ndGggPT09IDEpIHtcclxuICAgIHNlbnRlbmNlcyA9IGNsZWFuZWQuc3BsaXQoLyxcXHMrLyk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChzZW50ZW5jZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICBzZW50ZW5jZXMgPSBjbGVhbmVkLnNwbGl0KC9cXG4rLyk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBzZW50ZW5jZXNcclxuICAgIC5tYXAoKHMpID0+IHMudHJpbSgpKVxyXG4gICAgLmZpbHRlcigocykgPT4gcy5sZW5ndGggPiAwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RMaXN0QWZ0ZXJLZXl3b3JkKFxyXG4gIHRleHQ6IHN0cmluZ1xyXG4pOiB7IGtleXdvcmQ6IHN0cmluZzsgaXRlbXM6IHN0cmluZ1tdIH0gfCBudWxsIHtcclxuICBjb25zdCBrZXl3b3JkcyA9IFtcclxuICAgIFwibGF5ZXJzOlwiLCBcInR5cGVzOlwiLCBcImNvbXBvbmVudHM6XCIsIFwiaW5jbHVkZXM6XCIsIFwiY29udGFpbnM6XCIsXHJcbiAgICBcImVudGl0aWVzOlwiLCBcImF0dHJpYnV0ZXM6XCIsIFwicmVsYXRpb25zaGlwczpcIiwgXCJjbGFzc2VzOlwiLCBcIm1ldGhvZHM6XCIsXHJcbiAgICBcInVzZSBjYXNlczpcIiwgXCJzY2VuYXJpb3M6XCIsIFwiZGV2aWNlczpcIiwgXCJwcm9jZXNzZXM6XCIsIFwic3RlcHM6XCIsXHJcbiAgICBcIml0ZW1zOlwiLCBcImVsZW1lbnRzOlwiLCBcInBhcnRzOlwiLCBcImZlYXR1cmVzOlwiLCBcImZ1bmN0aW9uczpcIixcclxuICAgIFwibm9kZXM6XCIsIFwic2VydmVyczpcIiwgXCJob3N0czpcIiwgXCJyb3V0ZXJzOlwiLCBcInN3aXRjaGVzOlwiLFxyXG4gIF07XHJcbiAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICBmb3IgKGNvbnN0IGtleXdvcmQgb2Yga2V5d29yZHMpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gbG93ZXJUZXh0LmluZGV4T2Yoa2V5d29yZCk7XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIGNvbnN0IGFmdGVyS2V5d29yZCA9IHRleHQuc3Vic3RyaW5nKGluZGV4ICsga2V5d29yZC5sZW5ndGgpLnRyaW0oKTtcclxuICAgICAgbGV0IGl0ZW1zID0gYWZ0ZXJLZXl3b3JkLnNwbGl0KC9bLDtdLykubWFwKChpdGVtKSA9PiBpdGVtLnRyaW0oKSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAxICYmIC9eXFxkK1tcXC5cXCldXFxzLy50ZXN0KGl0ZW1zWzBdKSkge1xyXG4gICAgICAgIGl0ZW1zID0gYWZ0ZXJLZXl3b3JkLnNwbGl0KC9cXGQrW1xcLlxcKV1cXHMrLykuZmlsdGVyKGl0ZW0gPT4gaXRlbS50cmltKCkubGVuZ3RoID4gMCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGl0ZW1zID0gaXRlbXNcclxuICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS5yZXBsYWNlKC9eXFxkK1tcXC5cXCldXFxzKi8sIFwiXCIpLnRyaW0oKSlcclxuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmxlbmd0aCA+IDAgJiYgaXRlbS5sZW5ndGggPCAxMDApXHJcbiAgICAgICAgLnNsaWNlKDAsIDIwKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsga2V5d29yZDoga2V5d29yZC5yZXBsYWNlKFwiOlwiLCBcIlwiKSwgaXRlbXMgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFzUGF0dGVybiA9IC8oXFx3KylcXHMraGFzXFxzKyhbXlxcLl0rKS9pO1xyXG4gIGNvbnN0IGhhc01hdGNoID0gdGV4dC5tYXRjaChoYXNQYXR0ZXJuKTtcclxuICBpZiAoaGFzTWF0Y2ggJiYgaGFzTWF0Y2hbMl0pIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gaGFzTWF0Y2hbMl0uc3BsaXQoL1ssO10vKS5tYXAoaXRlbSA9PiBpdGVtLnRyaW0oKSkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5sZW5ndGggPiAwKTtcclxuICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiB7IGtleXdvcmQ6IFwiaGFzXCIsIGl0ZW1zIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25zaXN0c1BhdHRlcm4gPSAvKFxcdyspXFxzK2NvbnNpc3RzXFxzK29mXFxzKyhbXlxcLl0rKS9pO1xyXG4gIGNvbnN0IGNvbnNpc3RzTWF0Y2ggPSB0ZXh0Lm1hdGNoKGNvbnNpc3RzUGF0dGVybik7XHJcbiAgaWYgKGNvbnNpc3RzTWF0Y2ggJiYgY29uc2lzdHNNYXRjaFsyXSkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBjb25zaXN0c01hdGNoWzJdLnNwbGl0KC9bLDtdLykubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpLmZpbHRlcihpdGVtID0+IGl0ZW0ubGVuZ3RoID4gMCk7XHJcbiAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4geyBrZXl3b3JkOiBcImNvbnNpc3RzIG9mXCIsIGl0ZW1zIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RNYWluQ29uY2VwdCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGZpcnN0U2VudGVuY2UgPSBzcGxpdEludG9TZW50ZW5jZXModGV4dClbMF0gfHwgdGV4dDtcclxuICBjb25zdCBjb2xvbkluZGV4ID0gZmlyc3RTZW50ZW5jZS5pbmRleE9mKFwiOlwiKTtcclxuICBpZiAoY29sb25JbmRleCAhPT0gLTEpIHtcclxuICAgIHJldHVybiBmaXJzdFNlbnRlbmNlLnN1YnN0cmluZygwLCBjb2xvbkluZGV4KS50cmltKCk7XHJcbiAgfVxyXG4gIGNvbnN0IHdvcmRzID0gZmlyc3RTZW50ZW5jZS5zcGxpdCgvXFxzKy8pO1xyXG4gIHJldHVybiB3b3Jkcy5zbGljZSgwLCA1KS5qb2luKFwiIFwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RNaW5pbWFsTGFiZWwodGV4dDogc3RyaW5nLCBtYXhXb3JkczogbnVtYmVyID0gNCk6IHN0cmluZyB7XHJcbiAgY29uc3QgZmlsbGVyV29yZHMgPSBuZXcgU2V0KFtcclxuICAgIFwidGhlXCIsIFwiYVwiLCBcImFuXCIsIFwiaXNcIiwgXCJhcmVcIiwgXCJ3YXNcIiwgXCJ3ZXJlXCIsIFwiYmVcIiwgXCJiZWVuXCIsIFwiYmVpbmdcIixcclxuICAgIFwiaGF2ZVwiLCBcImhhc1wiLCBcImhhZFwiLCBcImRvXCIsIFwiZG9lc1wiLCBcImRpZFwiLCBcIndpbGxcIiwgXCJ3b3VsZFwiLCBcInNob3VsZFwiLFxyXG4gICAgXCJjb3VsZFwiLCBcIm1heVwiLCBcIm1pZ2h0XCIsIFwibXVzdFwiLCBcImNhblwiLCBcInRoaXNcIiwgXCJ0aGF0XCIsIFwidGhlc2VcIiwgXCJ0aG9zZVwiLFxyXG4gICAgXCJpdFwiLCBcIml0c1wiLCBcInRoZXlcIiwgXCJ0aGVtXCIsIFwidGhlaXJcIiwgXCJ0aGVyZVwiLCBcImhlcmVcIiwgXCJ3aGVyZVwiLCBcIndoZW5cIixcclxuICAgIFwid2hhdFwiLCBcIndoaWNoXCIsIFwid2hvXCIsIFwiaG93XCIsIFwid2h5XCIsIFwidG9cIiwgXCJvZlwiLCBcImluXCIsIFwib25cIiwgXCJhdFwiLCBcImJ5XCIsXHJcbiAgICBcImZvclwiLCBcIndpdGhcIiwgXCJmcm9tXCIsIFwiYXNcIiwgXCJhbmRcIiwgXCJvclwiLCBcImJ1dFwiLCBcImlmXCIsIFwidGhlblwiLCBcInNvXCIsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IHdvcmRzID0gdGV4dFxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5yZXBsYWNlKC9bXlxcd1xcc10vZywgXCIgXCIpXHJcbiAgICAuc3BsaXQoL1xccysvKVxyXG4gICAgLmZpbHRlcigod29yZCkgPT4gd29yZC5sZW5ndGggPiAwICYmICFmaWxsZXJXb3Jkcy5oYXMod29yZCkpO1xyXG5cclxuICBjb25zdCBpbXBvcnRhbnRXb3JkcyA9IHdvcmRzXHJcbiAgICAuZmlsdGVyKCh3b3JkLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBvcmlnaW5hbFdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pO1xyXG4gICAgICBjb25zdCBvcmlnaW5hbFdvcmQgPSBvcmlnaW5hbFdvcmRzW2luZGV4XSB8fCBcIlwiO1xyXG4gICAgICByZXR1cm4gb3JpZ2luYWxXb3JkWzBdID09PSBvcmlnaW5hbFdvcmRbMF0/LnRvVXBwZXJDYXNlKCkgfHwgaW5kZXggPCAzO1xyXG4gICAgfSlcclxuICAgIC5zbGljZSgwLCBtYXhXb3Jkcyk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGltcG9ydGFudFdvcmRzLmxlbmd0aCA+IDBcclxuICAgID8gaW1wb3J0YW50V29yZHNcclxuICAgIDogd29yZHMuc2xpY2UoMCwgbWF4V29yZHMpO1xyXG5cclxuICByZXR1cm4gcmVzdWx0XHJcbiAgICAubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcclxuICAgIC5qb2luKFwiIFwiKSB8fCB0ZXh0LnN1YnN0cmluZygwLCAzMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNEZWNpc2lvbktleXdvcmRzKHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGRlY2lzaW9uS2V5d29yZHMgPSBbXCJpZlwiLCBcImVsc2VcIiwgXCJjb25kaXRpb25cIiwgXCJkZWNpc2lvblwiLCBcImNoZWNrXCIsIFwidmVyaWZ5XCIsIFwid2hldGhlclwiXTtcclxuICBjb25zdCBsb3dlclRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XHJcbiAgcmV0dXJuIGRlY2lzaW9uS2V5d29yZHMuc29tZSgoa2V5d29yZCkgPT4gbG93ZXJUZXh0LmluY2x1ZGVzKGtleXdvcmQpKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInNwbGl0SW50b1NlbnRlbmNlcyIsInRleHQiLCJjbGVhbmVkIiwidHJpbSIsInJlcGxhY2UiLCJzZW50ZW5jZXMiLCJzcGxpdCIsImxlbmd0aCIsIm1hcCIsInMiLCJmaWx0ZXIiLCJleHRyYWN0TGlzdEFmdGVyS2V5d29yZCIsImtleXdvcmRzIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJrZXl3b3JkIiwiaW5kZXgiLCJpbmRleE9mIiwiYWZ0ZXJLZXl3b3JkIiwic3Vic3RyaW5nIiwiaXRlbXMiLCJpdGVtIiwidGVzdCIsInNsaWNlIiwiaGFzUGF0dGVybiIsImhhc01hdGNoIiwibWF0Y2giLCJjb25zaXN0c1BhdHRlcm4iLCJjb25zaXN0c01hdGNoIiwiZXh0cmFjdE1haW5Db25jZXB0IiwiZmlyc3RTZW50ZW5jZSIsImNvbG9uSW5kZXgiLCJ3b3JkcyIsImpvaW4iLCJleHRyYWN0TWluaW1hbExhYmVsIiwibWF4V29yZHMiLCJmaWxsZXJXb3JkcyIsIlNldCIsIndvcmQiLCJoYXMiLCJpbXBvcnRhbnRXb3JkcyIsIm9yaWdpbmFsV29yZHMiLCJvcmlnaW5hbFdvcmQiLCJ0b1VwcGVyQ2FzZSIsInJlc3VsdCIsImNoYXJBdCIsImhhc0RlY2lzaW9uS2V5d29yZHMiLCJkZWNpc2lvbktleXdvcmRzIiwic29tZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/textUtils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdiagram-chat%2Froute&page=%2Fapi%2Fdiagram-chat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdiagram-chat%2Froute.ts&appDir=C%3A%5CUsers%5Csarve%5Cfullstack1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csarve%5Cfullstack1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();